{% if candidates %}
<div class="overflow-x-auto">
    <table class="w-full text-sm">
        <thead>
            <tr class="text-gray-400 border-b border-gray-700">
                <th class="text-left py-2 px-2">Wallet</th>
                <th class="text-right py-2 px-2">Tokens Hit</th>
                <th class="text-left py-2 px-2">Tokens</th>
                <th class="text-center py-2 px-2">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for c in candidates %}
            <tr class="border-b border-gray-800 hover:bg-gray-800/50">
                <td class="py-2 px-2">
                    <span class="text-gray-300 text-xs font-mono cursor-pointer hover:text-white transition-colors"
                          onclick="navigator.clipboard.writeText('{{ c.wallet_address }}'); this.innerText='Copied!'; this.classList.add('text-green-400'); setTimeout(() => { this.innerText='{{ c.wallet_address[:16] }}...'; this.classList.remove('text-green-400'); }, 1200)">
                        {{ c.wallet_address[:16] }}...
                    </span>
                </td>
                <td class="py-2 px-2 text-right font-bold
                    {% if c.token_count >= 5 %}text-green-400
                    {% elif c.token_count >= 3 %}text-yellow-400
                    {% else %}text-gray-300{% endif %}">
                    {{ c.token_count }}
                </td>
                <td class="py-2 px-2 text-xs text-gray-400 max-w-[200px] truncate">
                    {{ c.token_symbols }}
                </td>
                <td class="py-2 px-2 text-center">
                    {% if c.is_promoted %}
                    <span class="text-xs px-2 py-0.5 bg-green-900 text-green-300 rounded-full">tracked</span>
                    {% else %}
                    <button hx-post="/discovery/promote/{{ c.wallet_address }}"
                            hx-target="#candidates-table"
                            hx-swap="innerHTML"
                            class="text-xs px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors">
                        Track
                    </button>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="text-gray-500 text-center py-8">
    No smart wallet candidates identified yet.
</div>
{% endif %}
